---
id: f78bb86c
type: todo
title: Consolidate workflow UX into a single /workflows command with GUI selection
tags:
  - workflows
  - commands
  - ux
status: open
created_at: 2026-02-19T13:00:38.693Z
modified_at: 2026-02-19T13:00:38.693Z
assigned_to_session: null
agent_rules: MUST update checklist done booleans during execution, not after
  completion. MUST edit only fields and sections explicitly allowed by the
  active instruction.
worktree:
  enabled: true
  branch: feat/todo-consolidate-workflow-ux-into-a-single-workflows-command-with-gui-selection
links:
  root_abs: /home/igorw/Work/pi/pi-extensions-complete/pi-workflows-tool
  prds: []
  specs: []
  todos:
    - 1720749b
    - b69d284e
checklist:
  - id: "1"
    title: Inventory all current workflow command registrations and confirm removal
      scope for /workflow and /workflow:* with source references
    done: true
  - id: "2"
    title: Design GUI list flow for /workflows with first entry Create workflow and
      remaining entries as discovered workflows with observable selection states
    done: true
  - id: "3"
    title: Implement /workflows command handler wiring that opens selector, routes
      Create workflow path, and routes selected workflow into model message
      injection
    done: true
  - id: "4"
    title: Remove legacy per-workflow dynamic slash command registration and verify
      no stale commands are exposed after
      session_start/session_switch/resources_discover
    done: true
  - id: "5"
    title: Run validation in local extension session and record evidence that list
      is scrollable, create option appears first, and selecting a workflow
      prompts model usage
    done: true
---

## Goal
Replace split workflow command surfaces with a single `/workflows` command that opens a GUI picker.

## Target UX
- `/workflows` opens a scrollable list UI.
- First option is **Create workflow**.
- Remaining options are existing workflows.
- Selecting an existing workflow asks the model to use that workflow.

## Related items
- TODO 1720749b (nested AGENTS.md loading investigation) should be kept in sync if command/event wiring overlaps.

## Implementation notes
- Consolidated command surface to `/workflows` and removed legacy `/workflow` and dynamic `/workflow:*` registrations.
- Implemented a single persistent custom TUI flow for workflows list and action menu transitions to keep UI anchoring stable.
- Matched todo-style reserved layout behavior with fixed rows, padding, spacer structure, and leader key support (`Ctrl+X`).
- Added workflow actions: use, refine, append-to-agents, promote-to-skill, delete.
- Create action now prompts user for what to document and sends workflow creation instructions plus optional `<user_instructions>`.
- `workflows_create` tool remains available for agent-driven workflow creation.

## Deliverable
Implement command consolidation, remove legacy `/workflow:*` dynamic commands, and provide verification notes showing GUI behavior and workflow injection behavior.
